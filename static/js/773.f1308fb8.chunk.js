"use strict";(self.webpackChunkproje=self.webpackChunkproje||[]).push([[773],{81773:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var t,l,n=a(12754),i=a(79434);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},r.apply(null,arguments)}const c=(e,s)=>{let{title:a,titleId:n,...c}=e;return i.createElement("svg",r({fill:"none",height:20,viewBox:"0 0 20 20",width:20,xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":n},c),a?i.createElement("title",{id:n},a):null,t||(t=i.createElement("circle",{cx:9.60754,cy:9.60754,fill:"#ffd600",r:9.60754})),l||(l=i.createElement("path",{d:"m8.99546 10.7469-.31705-6.18245h1.95509l-.3302 6.18245zm.66052 3.1573c-.62089 0-1.07004-.4624-1.07004-1.0304 0-.5681.44915-1.0172 1.07004-1.0172.60772 0 1.04362.4491 1.04362 1.0172 0 .568-.4359 1.0304-1.04362 1.0304z",fill:"#5a5a5a"})))},d=(0,i.forwardRef)(c);a.p;var o=a(64789);const m={withdrawWrap:"styles_withdrawWrap__G4mjk",withdrawContent:"styles_withdrawContent__JSLX5",formItem:"styles_formItem__dHBZp",formLabel:"styles_formLabel__GLOIl",formLabelInput:"styles_formLabelInput__3NvV3",formItemContent:"styles_formItemContent__1UpT+",dropDownWrap:"styles_dropDownWrap__+CIBi",otherListWrap:"styles_otherListWrap__CJvN0",otherList:"styles_otherList__PAHOs",otherCard:"styles_otherCard__AqTXA",cardTitle:"styles_cardTitle__zSKEM",cardCircle:"styles_cardCircle__wA0bT",otherCardDisabled:"styles_otherCardDisabled__TYLHU",addBtnWrap:"styles_addBtnWrap__yefCs",addSvg:"styles_addSvg__s6hxI",balanceWrap:"styles_balanceWrap__aNYcV",balanceTitle:"styles_balanceTitle__5kpK8",balance:"styles_balance__SLTgk",refreshSvg:"styles_refreshSvg__+vYzz",rotate:"styles_rotate__NhvNi",rotation:"styles_rotation__w8+CC",betMultiple:"styles_betMultiple__Y8ZW5",inputAmountWrap:"styles_inputAmountWrap__0gDN9",inputNumber:"styles_inputNumber__fRzGw",tips:"styles_tips__FZtvl",tipItem:"styles_tipItem__HIxxg",btnWrap:"styles_btnWrap__vFLSP",btn:"styles_btn__CHFOP",disabled:"styles_disabled__DBPbs",rateExchange:"styles_rateExchange__KOejg",bannerWrap:"styles_bannerWrap__NPIyw",bankCard:"styles_bankCard__N3Vk-",bankCardLeft:"styles_bankCardLeft__TDRVS",bankCardImg:"styles_bankCardImg__gX7Su",linesTitle:"styles_linesTitle__Vq91i",bankCardRight:"styles_bankCardRight__CDgyY",bankCardRightText:"styles_bankCardRightText__TVebv",arrowSvg:"styles_arrowSvg__g6hoK",expand:"styles_expand__rGAgj",confirmModalContent:"styles_confirmModalContent__YqOF8",modalTitle:"styles_modalTitle__rYkYh",modalText:"styles_modalText__0kGyp",confirmBtn:"styles_confirmBtn__ELDxh"};var h=a(46552),_=a.n(h),p=a(9305),u=a(76256),b=a(62952),x=a(38009),N=a(37247),v=a(88297),j=a(57275),g=a(35340),y=a(97542),C=a(89044),f=a(11286),w=a(98138),T=a(9250);const k=e=>{let{currentBank:s,userInfo:a,showAllCard:t,setShowAllCard:l}=e;return(0,T.jsxs)("div",{className:m.bankCard,children:[!!s&&(0,T.jsxs)("div",{className:m.bankCardLeft,children:[(0,T.jsx)("div",{className:m.cardCircle,children:(0,T.jsx)("img",{className:m.bankCardImg,src:`${(0,w.Pe)()}${s.bankImage}`})}),(0,T.jsxs)("div",{className:m.linesTitle,children:[(0,T.jsx)("div",{className:m.lineTitle,children:(0,w.OU)(null===a||void 0===a?void 0:a.realName,4)}),(0,T.jsx)("div",{className:m.lineTitle,children:s.bankName}),(0,T.jsx)("div",{className:m.lineTitle,children:(0,w.OU)(null===s||void 0===s?void 0:s.cardNumber,0,4)})]})]}),(0,T.jsx)("div",{className:m.bankCardRight,children:(0,T.jsxs)("div",{className:m.bankCardRightText,onClick:()=>{l(!t)},children:[(0,T.jsx)("span",{children:"THAY \u0110\u1ed4I"}),(0,T.jsx)(n.h,{className:_()(m.arrowSvg,t&&m.expand)})]})})]})},S=()=>{const e=(0,v.Zp)(),{userName:s}=(0,u.A)(),a=(0,b.Uj)(),[t,l]=(0,i.useState)(!1),[n,r]=(0,i.useState)(""),[c,h]=(0,i.useState)([]),[S,A]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(0,N.X6)().then((e=>{e.data.length>0&&(r(e.data[0].cardNumber),h(e.data))})),(0,N.$H)({}).then((e=>{A(JSON.parse(e.data))}))}),[]);const I=(0,i.useMemo)((()=>n?c.find((e=>e.cardNumber===n)):c.length>0?c[0]:null),[c,n]),W=(0,i.useMemo)((()=>!(c.length>=5)),[c]);(0,i.useEffect)((()=>{s&&D()}),[s]);const{balance:L,setBalance:B}=(0,x.wq)(),[E,O]=(0,i.useState)(0),D=async()=>{var e;const a=await(0,N.jU)({userName:s,auditStatus:0});O(null===(e=a.data.sumMap)||void 0===e?void 0:e.totalYardageAmount)},[M,Y]=(0,i.useState)(""),H=(0,i.useMemo)((()=>L?(L-Number(M)).toFixed(2):0),[L,M]),R=(0,i.useMemo)((()=>Number(M)<200||!M),[M]);return(0,T.jsxs)("div",{className:m.withdrawWrap,children:[(0,T.jsxs)("div",{className:m.withdrawContent,children:[(0,T.jsxs)("div",{className:m.formItem,children:[(0,T.jsxs)("div",{className:m.formLabel,children:["Ng\xe2n h\xe0ng r\xfat ti\u1ec1n: (",(0,T.jsx)("span",{children:"*"}),")"]}),(0,T.jsxs)("div",{className:m.formItemContent,children:[(0,T.jsxs)("div",{className:m.dropDownWrap,children:[(0,T.jsx)(k,{currentBank:I,userInfo:a,showAllCard:t,setShowAllCard:l}),t&&(0,T.jsxs)("div",{className:m.otherListWrap,children:[(0,T.jsx)("div",{className:m.otherList,children:c.filter((e=>(null===e||void 0===e?void 0:e.cardNumber)!==n)).map((e=>(0,T.jsxs)("div",{className:_()(m.otherCard,{[m.otherCardDisabled]:0===e.disabledState}),onClick:()=>{1===e.disabledState&&(r(null===e||void 0===e?void 0:e.cardNumber),l(!1))},children:[(0,T.jsx)("div",{className:m.cardCircle,children:(0,T.jsx)("img",{src:`${(0,w.Pe)()}${e.bankImage}`})}),(0,T.jsxs)("span",{className:m.cardTitle,children:[null===e||void 0===e?void 0:e.bankName," - ",(0,w.OU)(null===a||void 0===a?void 0:a.realName,4)]})]})))}),W&&(0,T.jsxs)("div",{className:m.addBtnWrap,onClick:()=>e("/mine/bankCard"),children:[(0,T.jsx)(o.h,{className:m.addSvg}),(0,T.jsx)("span",{children:"Th\xeam th\u1ebb ng\xe2n h\xe0ng"})]})]})]}),(0,T.jsxs)("div",{className:m.balanceWrap,children:[(0,T.jsx)("div",{className:m.balanceTitle,children:"\u0110i\u1ec3m hi\u1ec7n c\xf3: \xa0"}),(0,T.jsx)(C.A,{width:12})]}),(0,T.jsxs)("div",{className:m.betMultiple,children:["B\u1ea1n c\u1ea7n ph\u1ea3i c\u01b0\u1ee3c th\xeam ",(0,T.jsx)("span",{children:E})," \u0111i\u1ec3m \u0111\u1ec3 th\u1ef1c hi\u1ec7n r\xfat ti\u1ec1n."]})]})]}),(0,T.jsxs)("div",{className:m.formItem,children:[(0,T.jsxs)("div",{className:_()(m.formLabel,m.formLabelInput),children:["Nh\u1eadp s\u1ed1 \u0111i\u1ec3m: (",(0,T.jsx)("span",{children:"*"}),")"]}),(0,T.jsxs)("div",{className:m.formItemContent,children:[(0,T.jsx)(p.A,{className:m.inputNumber,value:M,onChange:e=>{const s=String(e.target.value).trim().replace(/[^0-9.]/g,"");if(+s>L){if(+s>1e5)return Y(1e5>L?String(L):"100000");Y(String(L))}else{if(+s>=1e5)return Y("100000");Y(String(s))}},step:"0.01",maxLength:10,disabled:!!E,placeholder:"200 - 100000"}),(0,T.jsxs)("div",{className:m.inputAmountWrap,children:["S\u1ed1 \u0111i\u1ec3m c\xf2n l\u1ea1i:",(0,T.jsxs)("span",{className:m.inputAmount,children:["\xa0",H,"\xa0"]}),"\u0110i\u1ec3m"]})]})]}),(0,T.jsxs)("div",{className:m.tips,children:[(0,T.jsxs)("div",{className:m.tipItem,children:[(0,T.jsx)(d,{className:m.tipYellowSvg}),(0,T.jsx)("div",{className:m.tipText,children:"\u0110\u1ea3m b\u1ea3o th\u1ef1c hi\u1ec7n h\u1ebft c\xe1c v\xf2ng c\u01b0\u1ee3c b\u1eaft bu\u1ed9c."})]}),(0,T.jsxs)("div",{className:m.tipItem,children:[(0,T.jsx)(d,{className:m.tipYellowSvg}),(0,T.jsx)("div",{className:m.tipText,children:"\u0110\u1ea3m b\u1ea3o th\u1ef1c hi\u1ec7n \u0111\u1ee7 Doanh Thu c\u01b0\u1ee3c thu\u1ed9c \u0111i\u1ec1u ki\u1ec7n khuy\u1ebfn m\xe3i."})]}),(0,T.jsxs)("div",{className:m.tipItem,children:[(0,T.jsx)(d,{className:m.tipYellowSvg}),(0,T.jsxs)("div",{className:m.tipText,children:["S\u1ed1 \u0111i\u1ec3m h\u1ee3p l\u1ec7 t\u1ed1i thi\u1ec3u khi r\xfat ti\u1ec1n l\xe0 ",(0,T.jsx)("span",{children:"200"})," \u0111i\u1ec3m (T\u01b0\u01a1ng \u1ee9ng v\u1edbi ",(0,T.jsx)("span",{children:"200.000 VN\u0110"}),"),"]})]}),(0,T.jsxs)("div",{className:m.tipItem,children:["t\u1ed1i \u0111a l\xe0 ",(0,T.jsx)("span",{children:"100.000"})," \u0111i\u1ec3m (T\u01b0\u01a1ng \u1ee9ng v\u1edbi ",(0,T.jsx)("span",{children:"100.000.000"})," VN\u0110)."]})]}),(0,T.jsx)("div",{className:m.btnWrap,children:(0,T.jsx)(y.A,{classNames:m.btn,btnText:"X\xc1C NH\u1eacN",isDisabled:R,handleSubmit:async()=>{try{let s={userBankName:I.bankName,userBankNo:I.cardNumber,applyAmount:Number(M)};const a=await(0,N.Iu)(s);if(PubSub.publish(f.U.REFRESH_BALANCE),0===a.code)if(S){const s=j.A.dialog({width:456,content:(0,T.jsxs)("div",{className:m.confirmModalContent,children:[(0,T.jsx)("p",{className:m.modalTitle,children:"TH\xd4NG B\xc1O"}),(0,T.jsxs)("div",{className:m.modalText,children:["Nh\u1eb1m \u0111\u1ea3m b\u1ea3o AN TO\xc0N B\u1ea2O M\u1eacT t\xe0i kho\u1ea3n h\u1ed9i ",(0,T.jsx)("br",{}),"vi\xean cho l\u1ec7nh r\xfat ti\u1ec1n l\u1ea7n \u0111\u1ea7u, vui l\xf2ng li\xean h\u1ec7 ",(0,T.jsx)("br",{}),"CSKH 24/7 \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 chi ti\u1ebft."]}),(0,T.jsx)("p",{className:m.modalText,children:"Tr\xe2n tr\u1ecdng!"}),(0,T.jsx)(y.A,{classNames:m.confirmBtn,btnText:"\u0110\u1ed2NG \xdd",handleSubmit:()=>{e("/mine/transaction",{state:{type:1}}),s.destroy()}})]}),afterClose:()=>{e("/mine/transaction",{state:{type:1}})}})}else j.A.success({content:"G\u1eedi \u0111\u01a1n th\xe0nh c\xf4ng \n vui l\xf2ng ch\u1edd x\xe9t duy\u1ec7t",closable:!1,autoClose:5e3}),setTimeout((()=>{e("/mine/transaction",{state:{type:1}})}),5e3);else j.A.waring({width:440,content:a.msg,closable:!1,autoClose:5e3})}catch(s){j.A.waring({content:s.message,closable:!1,autoClose:5e3})}}})}),(0,T.jsx)("div",{className:m.rateExchange,children:"M\u1ec7nh gi\xe1 quy \u0111\u1ed5i: 1 = 1.000 VN\u0110"})]}),(0,T.jsx)("div",{className:m.bannerWrap,children:(0,T.jsx)(g.A,{bannerType:3})})]})}},35340:(e,s,a)=>{a.d(s,{A:()=>_});var t=a(3308);const l="styles_swiper__JGYZE",n="styles_bannerImg__KdtTH";var i=a(79434),r=a(32998),c=a(30336),d=a(88297),o=a(47280),m=a(98138),h=a(9250);const _=e=>{let{bannerType:s}=e;const[a,_]=(0,i.useState)([]);(0,c.A)((async()=>{const{data:{list:e}}=await(0,r.N4)({bannerType:s,deviceType:2,page:1,size:10});_(e)}),[s]);const p=(0,d.Zp)();return(0,h.jsx)(t.A,{autoplay:!0,className:l,children:a.map((e=>(0,h.jsx)("div",{onClick:()=>(e=>{const{link:s}=e;if(!s)return;if(window.scrollTo(0,0),(0,o.ge)(s))return void window.open(e.link,"_blank");const[a,t]=s.split("?");if("/promo"!==a)p(s);else{const e=t.split("id=")[1];p(`/promotionDetail/${e}`)}})(e),children:(0,h.jsx)("img",{className:n,src:`${(0,m.Pe)()}${e.bannerUrl}`,alt:e.companyAcct})},e.id)))})}}}]);